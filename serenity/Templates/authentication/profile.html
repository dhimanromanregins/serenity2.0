{% extends '../base.html' %}
{% block body %}
<main class="login-bg" style="height: auto;">
  <div class="login-form-area">
    <form method="POST" enctype="multipart/form-data">
      {% csrf_token %}
    <div class="login-form">
      <div class="login-heading">
        <span>Profile</span>
      </div>

      <div class="input-box">
        <div class="single-input-fields">
          <label>{{ form.profile_picture.label }}</label>
          {% if user.profile_picture %}
            <div class="current-profile-picture">
              <img src="{{ user.profile_picture.url }}" alt="Profile Picture" style="max-width: 150px; max-height: 150px;">
              <p>Current Profile Picture</p>
            </div>
          {% endif %}
          {{ form.profile_picture }}
          {% if form.profile_picture.errors %}
            <div class="error">{{ form.profile_picture.errors }}</div>
          {% endif %}
        </div>
        <div class="single-input-fields">
          <label>{{ form.email.label }}</label>
          {{ form.email }}
          {% if form.email.errors %}
            <div class="error">{{ form.email.errors }}</div>
          {% endif %}
        </div>
        <div class="single-input-fields">
          <label>{{ form.username.label }}</label>
          {{ form.username }}
          {% if form.username.errors %}
            <div class="error">{{ form.username.errors }}</div>
          {% endif %}
        </div>
     
        <div class="single-input-fields">
          <label>{{ form.phone_number.label }}</label>
          {{ form.phone_number }}
          {% if form.phone_number.errors %}
            <div class="error">{{ form.phone_number.errors }}</div>
          {% endif %}
        </div>
        <div class="single-input-fields">
          <label>{{ form.first_name.label }}</label>
          {{ form.first_name }}
          {% if form.first_name.errors %}
            <div class="error">{{ form.first_name.errors }}</div>
          {% endif %}
        </div>
        <div class="single-input-fields">
          <label>{{ form.last_name.label }}</label>
          {{ form.last_name }}
          {% if form.last_name.errors %}
            <div class="error">{{ form.last_name.errors }}</div>
          {% endif %}
        </div>
        <div class="single-input-fields">
          <label>{{ form.date_of_birth.label }}</label>
          {{ form.date_of_birth }}
          {% if form.date_of_birth.errors %}
            <div class="error">{{ form.date_of_birth.errors }}</div>
          {% endif %}
        </div>
        <div class="single-input-fields">
          <label>{{ form.address.label }}</label>
          {{ form.address }}
          {% if form.address.errors %}
            <div class="error">{{ form.address.errors }}</div>
          {% endif %}
        </div>
        <div class="single-input-fields">
          <label>{{ form.bio.label }}</label>
          {{ form.bio }}
          {% if form.bio.errors %}
            <div class="error">{{ form.bio.errors }}</div>
          {% endif %}
        </div>
      </div>

      <div class="login-footer">
        <button class="submit-btn3">Update Profile</button>
        <button type="button" class="submit-btn3" id="logout-user">Logout</button>
      </div>
    </div>
  </form>
  <div class="select-genre" style="padding: 40px;">
    <h2 style="text-align: center;">Select Your Preferred Genres</h2>
    <form method="post" action="/select-genres/">
      {% csrf_token %}
      {{ genre_form.as_p }}
      <button type="submit">Save Preferences</button>
    </form>
  </div>
  </div>
</main>
<script>
  const formP = document.querySelector('.select-genre p');
  formP.style.paddingLeft = '46px';
  const formUL = document.querySelector('.select-genre ul');
  formUL.style.paddingLeft = '46px';
  const formButton = document.querySelector('.select-genre button');
  formButton.classList.add('submit-btn3');
  formButton.style.marginLeft = '46px';
</script>
{% endblock body %}
